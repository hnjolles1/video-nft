<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Api | @livepeer/video-nft</title><meta name="description" content="Documentation for @livepeer/video-nft"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@livepeer/video-nft</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">@livepeer/video-nft</a></li><li><a href="../modules/minter.html">minter</a></li><li><a href="minter.Api.html">Api</a></li></ul><h1>Class Api</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>Provides higher-level abstractions on top of the Livepeer VOD API focused on
the NFT-minting process.</p>
</div><dl class="tsd-comment-tags"><dt>remarks</dt><dd><p>This class requires an API key to be used for calling the Livepeer API. As
such, it is most appropriately used in a secure context like a backend server
(even if only acting as a proxy). It can still be used from the browser with
a CORS-enabled API key, but beware that the API key will be exposed for
anyone that grabs it from your web page.</p>
</dd></dl></div></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><span class="target">Api</span></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Constructors</h3><ul class="tsd-index-list"><li class="tsd-kind-constructor tsd-parent-kind-class"><a href="minter.Api.html#constructor" class="tsd-kind-icon">constructor</a></li></ul></section><section class="tsd-index-section "><h3>Properties</h3><ul class="tsd-index-list"><li class="tsd-kind-property tsd-parent-kind-class"><a href="minter.Api.html#vod" class="tsd-kind-icon">vod</a></li></ul></section><section class="tsd-index-section "><h3>Methods</h3><ul class="tsd-index-list"><li class="tsd-kind-method tsd-parent-kind-class"><a href="minter.Api.html#checkNftNormalize" class="tsd-kind-icon">check<wbr/>Nft<wbr/>Normalize</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="minter.Api.html#createAsset" class="tsd-kind-icon">create<wbr/>Asset</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="minter.Api.html#exportToIPFS" class="tsd-kind-icon">export<wbr/>ToIPFS</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="minter.Api.html#nftNormalize" class="tsd-kind-icon">nft<wbr/>Normalize</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="minter.Api.html#requestUploadUrl" class="tsd-kind-icon">request<wbr/>Upload<wbr/>Url</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="minter.Api.html#waitTask" class="tsd-kind-icon">wait<wbr/>Task</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Constructors</h2><section class="tsd-panel tsd-member tsd-kind-constructor tsd-parent-kind-class"><a id="constructor" class="tsd-anchor"></a><h3 class="tsd-anchor-link">constructor<a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-constructor tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">new <wbr/>Api<span class="tsd-signature-symbol">(</span>api<span class="tsd-signature-symbol">: </span><a href="../modules/api.html#ApiOptions" class="tsd-signature-type" data-tsd-kind="Type alias">ApiOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="minter.Api.html" class="tsd-signature-type" data-tsd-kind="Class">Api</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/livepeer/video-nft/blob/8c8646c/src/minter.ts#L274">minter.ts:274</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Creates a new <code>Api</code> instance with the given API configuration.</p>
</div><dl class="tsd-comment-tags"><dt>remarks</dt><dd><p>If you&#39;re running a backend proxy like
<a href="https://github.com/victorges/livepeer-web-api-proxy" class="external">Livepeer Web API Proxy</a>
you can pass an empty configuration to the API here. The client will use
the same endpoint as the current page by default and won&#39;t include any
credentials in the requests. All API paths are prefixed with <code>/api</code>.</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>api: <a href="../modules/api.html#ApiOptions" class="tsd-signature-type" data-tsd-kind="Type alias">ApiOptions</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The options to pass to the Livepeer API client.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="minter.Api.html" class="tsd-signature-type" data-tsd-kind="Class">Api</a></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group "><h2>Properties</h2><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="vod" class="tsd-anchor"></a><h3 class="tsd-anchor-link">vod<a href="#vod" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">vod<span class="tsd-signature-symbol">:</span> <a href="api.VodApi.html" class="tsd-signature-type" data-tsd-kind="Class">VodApi</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/livepeer/video-nft/blob/8c8646c/src/minter.ts#L260">minter.ts:260</a></li></ul></aside></section></section><section class="tsd-panel-group tsd-member-group "><h2>Methods</h2><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="checkNftNormalize" class="tsd-anchor"></a><h3 class="tsd-anchor-link">check<wbr/>Nft<wbr/>Normalize<a href="#checkNftNormalize" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">check<wbr/>Nft<wbr/>Normalize<span class="tsd-signature-symbol">(</span>asset<span class="tsd-signature-symbol">: </span><a href="../interfaces/index.Asset.html" class="tsd-signature-type" data-tsd-kind="Interface">Asset</a>, sizeLimit<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>desiredProfile<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/index.FfmpegProfile.html" class="tsd-signature-type" data-tsd-kind="Interface">FfmpegProfile</a><span class="tsd-signature-symbol">; </span>possible<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> }</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/livepeer/video-nft/blob/8c8646c/src/minter.ts#L360">minter.ts:360</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Checks if the specified asset requires any special processing before being
minted as an NFT.</p>
</div><dl class="tsd-comment-tags"><dt>remarks</dt><dd><p>This is an optional function call, you can also just call
<a href="minter.Api.html#nftNormalize">nftNormalize</a> directly to have the video asset processed in the best
way possible for being minted as an NFT. This function is useful only if
you want to show some feedback to the user, like asking if they want to
mint the asset as is or process it first.</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>asset: <a href="../interfaces/index.Asset.html" class="tsd-signature-type" data-tsd-kind="Interface">Asset</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The asset to check. It must have been fully populated with the
video metadata, meaning that the <a href="../interfaces/index.Task.html">Task</a> that created it must have
already completed.</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> sizeLimit: <span class="tsd-signature-type">number</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The size limit to shrink the asset to. Defaults to 100MB.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">{ </span>desiredProfile<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/index.FfmpegProfile.html" class="tsd-signature-type" data-tsd-kind="Interface">FfmpegProfile</a><span class="tsd-signature-symbol">; </span>possible<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> }</span></h4><div><p>An object with 2 fields <code>possible</code> and <code>desiredProfile</code>. The
<code>possible</code> field is a boolean indicating if the asset can actually be
normalized or not, i.e. if there is any acceptable bitrate to reduce its
size below the <code>sizeLimit</code>. The <code>desiredProfile</code> field is the video profile
that should be used to transcode the asset, if <code>possible</code>.</p>
</div><ul class="tsd-parameters"><li class="tsd-parameter"><h5>desired<wbr/>Profile<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/index.FfmpegProfile.html" class="tsd-signature-type" data-tsd-kind="Interface">FfmpegProfile</a></h5></li><li class="tsd-parameter"><h5>possible<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></h5></li></ul></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="createAsset" class="tsd-anchor"></a><h3 class="tsd-anchor-link">create<wbr/>Asset<a href="#createAsset" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">create<wbr/>Asset<span class="tsd-signature-symbol">(</span>name<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, content<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">File</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">ReadableStream</span>, reportProgress<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-symbol">(</span>progress<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/index.Asset.html" class="tsd-signature-type" data-tsd-kind="Interface">Asset</a><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/livepeer/video-nft/blob/8c8646c/src/minter.ts#L319">minter.ts:319</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Utility for performing the full file upload process for creating an asset
in the Livepeer API.</p>
</div><dl class="tsd-comment-tags"><dt>remarks</dt><dd><p>This assumes you are calling both <a href="minter.Api.html#requestUploadUrl">requestUploadUrl</a> and
<a href="minter.Uploader.html#uploadFile">uploadFile</a> from the same place. In the most efficient scenario, you
would only create an upload URL from your backend, forward it to your
frontend and make the upload directly from the frontend.</p>
<p>This one can be used to get started, it will only be either: more
inefficient in case you pipe the whole file contents through your backend,
or; insecure if you call the Livepeer API from the frontend.</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>name: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The name of the asset that will be created.</p>
</div></div></li><li><h5>content: <span class="tsd-signature-type">File</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">ReadableStream</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The content of the file to be uploaded.</p>
</div></div></li><li><h5>reportProgress: <span class="tsd-signature-symbol">(</span>progress<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> = ...</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>A function that will be called periodically with the
progress of the upload. Parts of it only work in the browser.</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>progress<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>progress: <span class="tsd-signature-type">number</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/index.Asset.html" class="tsd-signature-type" data-tsd-kind="Interface">Asset</a><span class="tsd-signature-symbol">&gt;</span></h4><div><p>The newly created and already processed/populated <a href="../interfaces/index.Asset.html">Asset</a>.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="exportToIPFS" class="tsd-anchor"></a><h3 class="tsd-anchor-link">export<wbr/>ToIPFS<a href="#exportToIPFS" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">export<wbr/>ToIPFS<span class="tsd-signature-symbol">(</span>assetId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, nftMetadata<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span>, reportProgress<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-symbol">(</span>progress<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../modules/index.html#ExportToIPFSOutput" class="tsd-signature-type" data-tsd-kind="Type alias">ExportToIPFSOutput</a><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/livepeer/video-nft/blob/8c8646c/src/minter.ts#L448">minter.ts:448</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Exports an asset to decentralized storage (IPFS).</p>
</div><dl class="tsd-comment-tags"><dt>remarks</dt><dd><p>This actually exports 2 files to IPFS:</p>
<ul>
<li>One with the raw contents of the video asset</li>
<li>Another one with the NFT metadata in IPFS pointing to the above file. So
you can mint the NFT directly with the URL of this file as the
<code>tokenUri</code> of the ERC-721 contract.</li>
</ul>
</dd><dt>remarks</dt><dd><p>You can also customize the NFT metadata created by passing the
<code>nftMetadata</code> argument to this function. This will be deep merged with the
default metadata created for the NFT.</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>assetId: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The ID of the asset to export.</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> nftMetadata: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The custom overrides for fields in the NFT metadata. You
can change the value of any field by specifying it here, or delete any
default field by specifying <code>null</code>.</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> reportProgress: <span class="tsd-signature-symbol">(</span>progress<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>A function that will be called periodically with the
progress of the export task.</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>progress<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>progress: <span class="tsd-signature-type">number</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../modules/index.html#ExportToIPFSOutput" class="tsd-signature-type" data-tsd-kind="Type alias">ExportToIPFSOutput</a><span class="tsd-signature-symbol">&gt;</span></h4><div><p>The information about the files exported to IPFS. Use the
<code>nftMetadataUrl</code> field as the <code>tokenUri</code> for minting the NFT of the asset.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="nftNormalize" class="tsd-anchor"></a><h3 class="tsd-anchor-link">nft<wbr/>Normalize<a href="#nftNormalize" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">nft<wbr/>Normalize<span class="tsd-signature-symbol">(</span>asset<span class="tsd-signature-symbol">: </span><a href="../interfaces/index.Asset.html" class="tsd-signature-type" data-tsd-kind="Interface">Asset</a>, reportProgress<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-symbol">(</span>progress<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span>, sizeLimit<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/index.Asset.html" class="tsd-signature-type" data-tsd-kind="Interface">Asset</a><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/livepeer/video-nft/blob/8c8646c/src/minter.ts#L399">minter.ts:399</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Normalizes the specified asset fot the best possible NFT.</p>
</div><dl class="tsd-comment-tags"><dt>remarks</dt><dd><p>Normalization means transcoding the asset to a better suitable format,
codec and quality. Currently, this means ensuring that the asset fits
within the limit of some NFT marketplaces like OpenSea, which has a strict
<a href="https://support.opensea.io/hc/en-us/articles/360061943574-What-file-formats-can-I-use-to-make-NFTs-Is-there-a-maximum-size-" class="external">file size limit of 100 MB</a>. Check the <a href="../modules/transcode.html#getDesiredBitrate">getDesiredBitrate</a> and
<a href="../modules/transcode.html#makeProfile">makeProfile</a> for more information on how that calculation is made.</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>asset: <a href="../interfaces/index.Asset.html" class="tsd-signature-type" data-tsd-kind="Interface">Asset</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The asset to normalize. It must have been fully populated with
the video metadata, meaning that the <a href="../interfaces/index.Task.html">Task</a> that created it must have
already completed.</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> reportProgress: <span class="tsd-signature-symbol">(</span>progress<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>A function that will be called periodically with the
progress of the transcode task.</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>progress<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>progress: <span class="tsd-signature-type">number</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> sizeLimit: <span class="tsd-signature-type">number</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The size limit to shrink the asset to. Defaults to 100MB.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/index.Asset.html" class="tsd-signature-type" data-tsd-kind="Interface">Asset</a><span class="tsd-signature-symbol">&gt;</span></h4><div><p>The new asset created with the normalized video spec.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="requestUploadUrl" class="tsd-anchor"></a><h3 class="tsd-anchor-link">request<wbr/>Upload<wbr/>Url<a href="#requestUploadUrl" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">request<wbr/>Upload<wbr/>Url<span class="tsd-signature-symbol">(</span>name<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>asset<span class="tsd-signature-symbol">: </span><a href="../interfaces/index.Asset.html" class="tsd-signature-type" data-tsd-kind="Interface">Asset</a><span class="tsd-signature-symbol">; </span>task<span class="tsd-signature-symbol">: </span><a href="../interfaces/index.Task.html" class="tsd-signature-type" data-tsd-kind="Interface">Task</a><span class="tsd-signature-symbol">; </span>url<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/livepeer/video-nft/blob/8c8646c/src/minter.ts#L292">minter.ts:292</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Request a direct upload URL for a file to be uploaded to the API.</p>
</div><dl class="tsd-comment-tags"><dt>remarks</dt><dd><p>This is simply a proxy to <a href="api.VodApi.html#requestUploadUrl">VodApi.requestUploadUrl</a>, exposed here as
a helper so you don&#39;t need to interact with the <a href="api.VodApi.html">VodApi</a> class
directly as well.</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>name: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The name of the asset that will be created.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>asset<span class="tsd-signature-symbol">: </span><a href="../interfaces/index.Asset.html" class="tsd-signature-type" data-tsd-kind="Interface">Asset</a><span class="tsd-signature-symbol">; </span>task<span class="tsd-signature-symbol">: </span><a href="../interfaces/index.Task.html" class="tsd-signature-type" data-tsd-kind="Interface">Task</a><span class="tsd-signature-symbol">; </span>url<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>An object with the <code>url</code> and created <code>asset</code> and <code>task</code>. The
<code>asset</code> and <code>task</code> can be used to track the progress of the upload (see
<a href="minter.Api.html#waitTask">waitTask</a>).</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="waitTask" class="tsd-anchor"></a><h3 class="tsd-anchor-link">wait<wbr/>Task<a href="#waitTask" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">wait<wbr/>Task<span class="tsd-signature-symbol">(</span>task<span class="tsd-signature-symbol">: </span><a href="../interfaces/index.Task.html" class="tsd-signature-type" data-tsd-kind="Interface">Task</a>, reportProgress<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-symbol">(</span>progress<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/index.Task.html" class="tsd-signature-type" data-tsd-kind="Interface">Task</a><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/livepeer/video-nft/blob/8c8646c/src/minter.ts#L480">minter.ts:480</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Wait until a specified task is completed.</p>
</div><dl class="tsd-comment-tags"><dt>remarks</dt><dd><p>This will simply call the <code>getTask</code> API repeatedly until the task is either
successful or failed. For a promise-like API this will also throw an
exception in case the task is failed.</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>task: <a href="../interfaces/index.Task.html" class="tsd-signature-type" data-tsd-kind="Interface">Task</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The task object that should be waited for.</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> reportProgress: <span class="tsd-signature-symbol">(</span>progress<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>An optional callback to be called with the progress
of the running task, which is a number for 0 to 1. Useful for showing some
UI feedback to users.</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>progress<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>progress: <span class="tsd-signature-type">number</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/index.Task.html" class="tsd-signature-type" data-tsd-kind="Interface">Task</a><span class="tsd-signature-symbol">&gt;</span></h4><div><p>The finished <code>Task</code> object also containing the task output. Check
the <code>output</code> field for the respective output depending on the task <code>type</code>.</p>
</div></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="../modules/api.html">api</a></li><li class=" tsd-kind-module"><a href="../modules/chains.html">chains</a></li><li class=" tsd-kind-module"><a href="../modules/index.html">index</a></li><li class="current tsd-kind-module"><a href="../modules/minter.html">minter</a></li><li class=" tsd-kind-module"><a href="../modules/transcode.html">transcode</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-class tsd-parent-kind-module"><a href="minter.Api.html" class="tsd-kind-icon">Api</a><ul><li class="tsd-kind-constructor tsd-parent-kind-class"><a href="minter.Api.html#constructor" class="tsd-kind-icon">constructor</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="minter.Api.html#vod" class="tsd-kind-icon">vod</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="minter.Api.html#checkNftNormalize" class="tsd-kind-icon">check<wbr/>Nft<wbr/>Normalize</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="minter.Api.html#createAsset" class="tsd-kind-icon">create<wbr/>Asset</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="minter.Api.html#exportToIPFS" class="tsd-kind-icon">export<wbr/>ToIPFS</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="minter.Api.html#nftNormalize" class="tsd-kind-icon">nft<wbr/>Normalize</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="minter.Api.html#requestUploadUrl" class="tsd-kind-icon">request<wbr/>Upload<wbr/>Url</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="minter.Api.html#waitTask" class="tsd-kind-icon">wait<wbr/>Task</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-namespace"><span class="tsd-kind-icon">Namespace</span></li><li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li><li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li><li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>